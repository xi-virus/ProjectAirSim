

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulation Clock &mdash; Project Airsim 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Weather Visual Effects" href="weather_visual_effects.html" />
    <link rel="prev" title="Matlab Physics for Drones" href="../physics/matlab_physics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Project Airsim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Sensors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_capture_settings.html">Supported imaging/capture camera customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_capture_settings.html#sample-config">Sample config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html">Camera Images Post processing using Neural Network models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html#image-post-processing-settings">Image post processing settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html#post-processing-model-settings">Post processing model settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_streaming.html">Camera Streaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/segmentation.html">Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/lidar.html">Lidar sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/lidar.html#lidar-sensor-settings">Lidar sensor settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/radar.html">Radar sensor overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/radar.html#radar-sensor-settings">Radar sensor settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/battery.html">Battery sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/battery.html#battery-sensor-settings">Battery sensor settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics and Simulation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../physics/fast_physics.html">Fast Physics for Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../physics/matlab_physics.html">Matlab Physics for Drones</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Simulation Clock</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#sim-clock-config">Sim Clock Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sim-clock-api">Sim Clock API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-usage-scenarios">Example Usage Scenarios</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#standard-simulation-with-the-option-to-pause-resume-do-manual-step-control-scale-faster-slower-than-real-time-execution">#1 - Standard simulation with the option to pause/resume, do manual step control, scale faster/slower than real-time execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#real-time-simulation-to-run-everything-by-actual-time-can-t-pause-resume-scale-such-as-for-non-physics-mode">#2 - Real-time simulation to run everything by actual time (can’t pause/resume/scale), such as for non-physics mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="weather_visual_effects.html">Weather Visual Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Controllers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controllers/controllers.html">Flight Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/simple_flight.html">Simple Flight Controller for Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4.html">PX4 Autopilot Flight Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_build.html">Building PX4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_hitl.html">Using a PX4 Controller as Hardware-In-The-Loop (HITL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_lockstep.html">PX4 Lockstep Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_multi_vehicle.html">PX4 with Multiple Robots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_sitl.html">Using a PX4 Controller as Software-In-The-Loop (SITL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_sitl_wsl2.html">PX4 Software-in-the-Loop with WSL 2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Settings</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://iamaisim.github.io/ProjectAirSim/api_docs/index.html">Python Client API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Project Airsim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Simulation Clock</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/scene/sim_clock.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simulation-clock">
<h1>Simulation Clock<a class="headerlink" href="#simulation-clock" title="Link to this heading">¶</a></h1>
<p>The simulation clock is a core component of the simulation scene configuration and execution.</p>
<p><em>Note: When using the Unreal Editor’s play-in-editor mode, there are buttons to <strong>Pause/Resume/SingleStep</strong> the game, <strong>but these buttons are NOT supported</strong> by Project AirSim since they are linked directly to the internals of the Unreal engine ticks. To perform sim clock control functions, please use the SimClock client API instead.</em></p>
<section id="sim-clock-config">
<h2>Sim Clock Config<a class="headerlink" href="#sim-clock-config" title="Link to this heading">¶</a></h2>
<p>For details on the configuration options, see <strong><a class="reference internal" href="../config_scene.html#clock-settings"><span class="std std-ref">clock settings</span></a></strong>.</p>
</section>
<section id="sim-clock-api">
<h2>Sim Clock API<a class="headerlink" href="#sim-clock-api" title="Link to this heading">¶</a></h2>
<p>For details on the API, see <strong><a class="reference internal" href="../api.html#sim-clock-api"><span class="std std-ref">Sim Clock API</span></a></strong>.</p>
</section>
<section id="example-usage-scenarios">
<h2>Example Usage Scenarios<a class="headerlink" href="#example-usage-scenarios" title="Link to this heading">¶</a></h2>
<section id="standard-simulation-with-the-option-to-pause-resume-do-manual-step-control-scale-faster-slower-than-real-time-execution">
<h3>#1 - Standard simulation with the option to pause/resume, do manual step control, scale faster/slower than real-time execution<a class="headerlink" href="#standard-simulation-with-the-option-to-pause-resume-do-manual-step-control-scale-faster-slower-than-real-time-execution" title="Link to this heading">¶</a></h3>
<p>For most scenarios, the <code class="docutils literal notranslate"><span class="pre">steppable</span></code> clock would be used since it gives deterministic fixed delta sim time steps for each execution loop set by <code class="docutils literal notranslate"><span class="pre">step-ns</span></code>, and also allows usage of the SimClock APIs to pause/resume and do manual step controls.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">real-time-update-rate</span></code> sets the actual real-time period between each execution loop, so the simulation advancement can be scaled faster/slower than real-time be the ratio between <code class="docutils literal notranslate"><span class="pre">step-ns</span></code> and <code class="docutils literal notranslate"><span class="pre">real-time-update-rate</span></code>. If <code class="docutils literal notranslate"><span class="pre">step-ns</span></code> is larger than <code class="docutils literal notranslate"><span class="pre">real-time-update-rate</span></code>, then sim time will advance faster than real-time, and vice-versa.</p>
<p><em>Note: When using physics that are external from Unreal, such as FastPhysics for drones, the rendering loop runs separately from the sim loop (as fast as the GPU can handle, but generally at a slower rate) so that the simulation can advance with higher fidelity time steps without requiring a rendered image for every step.</em></p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;clock&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;steppable&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;step-ns&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;real-time-update-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;pause-on-start&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="err">|</span><span class="kc">false</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="real-time-simulation-to-run-everything-by-actual-time-can-t-pause-resume-scale-such-as-for-non-physics-mode">
<h3>#2 - Real-time simulation to run everything by actual time (can’t pause/resume/scale), such as for non-physics mode<a class="headerlink" href="#real-time-simulation-to-run-everything-by-actual-time-can-t-pause-resume-scale-such-as-for-non-physics-mode" title="Link to this heading">¶</a></h3>
<p>For running the simulation in a non-deterministic way where the sim clock is just stepped by the amount of actual time that passed between each execution loop, the <code class="docutils literal notranslate"><span class="pre">real-time</span></code> clock type can be used.</p>
<p>This is useful, for example, when running <strong>non-physics “computer vision” mode</strong> where the robot is moved arbitrarily around the scene and there is no physical meaning to the sim time except to be a timestamp on sensor data. Another example could be a scenario where a human operator or hardware component is interacting with the simulation as it runs just like they would with an actual version of the robot in the real-world.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="nt">&quot;clock&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;real-time&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;real-time-update-rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3000000</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<hr class="docutils" />
<p>Copyright (C) Microsoft Corporation.  All rights reserved.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../physics/matlab_physics.html" class="btn btn-neutral float-left" title="Matlab Physics for Drones" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="weather_visual_effects.html" class="btn btn-neutral float-right" title="Weather Visual Effects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>