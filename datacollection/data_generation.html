

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Generation &mdash; Project Airsim 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Project Airsim
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Sensors</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_capture_settings.html">Supported imaging/capture camera customizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_capture_settings.html#sample-config">Sample config</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html">Camera Images Post processing using Neural Network models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html#image-post-processing-settings">Image post processing settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_post_processing_with_nn.html#post-processing-model-settings">Post processing model settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/camera_streaming.html">Camera Streaming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/segmentation.html">Segmentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/lidar.html">Lidar sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/lidar.html#lidar-sensor-settings">Lidar sensor settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/radar.html">Radar sensor overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/radar.html#radar-sensor-settings">Radar sensor settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/battery.html">Battery sensor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sensors/battery.html#battery-sensor-settings">Battery sensor settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Physics and Simulation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../physics/fast_physics.html">Fast Physics for Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../physics/matlab_physics.html">Matlab Physics for Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scene/sim_clock.html">Simulation Clock</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scene/weather_visual_effects.html">Weather Visual Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Controllers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controllers/controllers.html">Flight Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/simple_flight.html">Simple Flight Controller for Drones</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4.html">PX4 Autopilot Flight Controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_build.html">Building PX4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_hitl.html">Using a PX4 Controller as Hardware-In-The-Loop (HITL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_lockstep.html">PX4 Lockstep Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_multi_vehicle.html">PX4 with Multiple Robots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_sitl.html">Using a PX4 Controller as Software-In-The-Loop (SITL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../controllers/px4/px4_sitl_wsl2.html">PX4 Software-in-the-Loop with WSL 2</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Settings</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://iamaisim.github.io/ProjectAirSim/api_docs/index.html">Python Client API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Project Airsim</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Data Generation</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/datacollection/data_generation.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data-generation">
<h1>Data Generation<a class="headerlink" href="#data-generation" title="Link to this heading">¶</a></h1>
<p>This documents serves to provide a detailed overview on the components that make up a data generation run and how to configure it. The folder <a class="reference internal" href="#../../client/python/example_user_scripts/datacollection/"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">example_user_scripts/datacollection</span></code></span></a> provides a set of example scripts and configs for the developer’s reference.</p>
<p>A data generation run consists of these main components:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#trajectory-generation"><span class="xref myst">Trajectory Generation</span></a></p></li>
<li><p><a class="reference internal" href="#data-collection"><span class="xref myst">Data Collection</span></a></p></li>
<li><p><a class="reference internal" href="#data-aggregation"><span class="xref myst">Data Aggregation</span></a></p></li>
<li><p><a class="reference internal" href="#data-validation"><span class="xref myst">Data Validation</span></a></p></li>
<li><p><a class="reference internal" href="augmentations.html#image-level-augmentations"><span class="std std-ref">Data Augmentation</span></a></p></li>
</ul>
<p>All these components are configured through <a class="reference download internal" download="" href="../_downloads/1d9e55b697d1a3360a9803721d5f9965/datacollector_config.jsonc"><span class="xref download myst"><code class="docutils literal notranslate"><span class="pre">datacollector_config.jsonc</span></code></span></a> as well as a set of API’s that allow for additional fine tuning on top of the config. For more information refer to <a class="reference internal" href="config.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">config.md</span></code></span></a> and <a class="reference internal" href="api.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">api.md</span></code></span></a></p>
<section id="note">
<h2>Note<a class="headerlink" href="#note" title="Link to this heading">¶</a></h2>
<p>There is an extra installation step that you need to follow in order to use the <code class="docutils literal notranslate"><span class="pre">datacollection</span></code> module inside <code class="docutils literal notranslate"><span class="pre">projectairsim</span></code> client. Once you have installed the <code class="docutils literal notranslate"><span class="pre">projectairsim</span></code> module, please run the following command in your python env</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>-U<span class="w"> </span>albumentations<span class="w"> </span>--no-binary<span class="w"> </span>qudida,albumentations
</pre></div>
</div>
<p>This manual step is required since the <code class="docutils literal notranslate"><span class="pre">albumentation</span></code> module installs <code class="docutils literal notranslate"><span class="pre">opencv-pyhton-headless</span></code> by default. Since this install interferes with the <code class="docutils literal notranslate"><span class="pre">opencv-python</span></code> install within the <code class="docutils literal notranslate"><span class="pre">projectairsim</span></code> module, we have not make it a dependancy within the wheel and are recommending users to manually install it with the above command, if using the <code class="docutils literal notranslate"><span class="pre">datacollection</span></code> module.</p>
</section>
<section id="trajectory-generation">
<h2>Trajectory Generation<a class="headerlink" href="#trajectory-generation" title="Link to this heading">¶</a></h2>
<p>During the data generation run, the drone moves along the <code class="docutils literal notranslate"><span class="pre">WayPoint</span></code> objects defined during trajectory generation which makes this step crucial in terms of the quantity, quality and variety of data generated through the module.</p>
<p>For more information on the types of trajectories available out-of-the-box and how to configure them, checkout <a class="reference internal" href="trajectory.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">trajectory.md</span></code></span></a></p>
</section>
<section id="data-collection">
<h2>Data Collection<a class="headerlink" href="#data-collection" title="Link to this heading">¶</a></h2>
<p>The drone is moved along the generated trajectory. At each pose, ground-truth data is requested from the sim and saved along with other relevant meta data about that pose (weather/time conditions etc). What data is requested from the sim depends on the data-spec defined in the <a class="reference internal" href="config.html#collection-spec"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">config</span></code></span></a>/through the <a class="reference internal" href="api.html#pre-collection-apis"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">API</span></code></span></a></p>
<p>Here, the sim scene and drone are configured through the <code class="docutils literal notranslate"><span class="pre">scene</span></code> and <code class="docutils literal notranslate"><span class="pre">robot</span></code> configs.</p>
</section>
<section id="data-validation">
<h2>Data Validation<a class="headerlink" href="#data-validation" title="Link to this heading">¶</a></h2>
<p>Once the data is collected and stored in memory, the data generation module allows the develop to run a set of validation checks on the data. These validation checks clean the dataset of data points that do not pass these tests. It also generate a report on the remaining data - proving quantitative measurements of the collected dataset.</p>
<p>These checks can be initiated through API calls to the data generator module. For more information, check out <a class="reference internal" href="api.html#base-apis"><span class="std std-ref"><code class="docutils literal notranslate"><span class="pre">api.md</span></code></span></a>. <a class="reference internal" href="#../../client%5Cpython%5Cexample_user_scripts%5Cdatacollection/datacollection_validation_apis.py"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">datacollection_validation_apis.py</span></code></span></a> is also included in the <code class="docutils literal notranslate"><span class="pre">example_user_scripts/datacollection</span></code> folder to provide an example usage of these API’s</p>
</section>
<section id="data-aggregation">
<h2>Data Aggregation<a class="headerlink" href="#data-aggregation" title="Link to this heading">¶</a></h2>
<p>Once the data is collected and validated, the data can be aggregated into specific spec formats that can later be used for tasks such as ingestion to data curation tools or fine-tuning of a pre-trained model.</p>
<p>For more information on the specific formats the data is saved to, check out <a class="reference internal" href="data_aggregation.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">data_aggregation.md</span></code></span></a></p>
</section>
<section id="data-augmentation">
<h2>Data Augmentation<a class="headerlink" href="#data-augmentation" title="Link to this heading">¶</a></h2>
<p>Once the data is collected and aggregated, the module offers the option to augment this dataset with variations of itself. Its purpose is to add variety to your dataset and generate potential edge-case data points without going back to the sim.</p>
<p>If enabled, this sub-module reads the image and metadata off of your directory, manipulates and saves it back to that directory. For images, the augmented images follow the same naming convention as those from the sim ({index}.png) and their indexes start from where the sim images end. As for the metadata, currently the 2D bbox data for the augmented images is appended to the <code class="docutils literal notranslate"><span class="pre">csv</span></code> generated through the data augmentation step</p>
<p>For more information about the types of available augmentations and configuring this sub-module through the config, checkout <a class="reference internal" href="config.html#augmentation-spec"><span class="std std-ref">config.md</span></a></p>
<p>For the available augmentation API’s, checkout <a class="reference internal" href="api.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">api.md</span></code></span></a>. <a class="reference internal" href="#../../client%5Cpython%5Cexample_user_scripts%5Cdatacollection%5Cdatacollection_augmentation_apis.py#L61"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">datacollection_augmentation_apis.py</span></code></span></a> is also included in the <code class="docutils literal notranslate"><span class="pre">example_user_scripts/datacollection</span></code> folder to provide an example usage of these API’s</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>